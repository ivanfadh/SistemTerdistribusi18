<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="refresh" content="5">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<title>Raft Consensus Algorithm</title>
<center><h1 style="color:brown">Raft Consensus Algorithm</h1></center>

<link type="text/css" rel="stylesheet" href="raft_style.css"/>
<script language="javascript">
    
    function init() {
		var xmlhttp;
		xmlhttp = new XMLHttpRequest();
        var empno = document.getElementById("empno");
        var url = "http://localhost:8080/raft/monitor";
        xmlhttp.open('GET',url,true);
        xmlhttp.send(null);
        xmlhttp.onreadystatechange = function() {
               if (xmlhttp.readyState == 4) {
                  if ( xmlhttp.status == 200) {
						var table = document.getElementById("myTable");
						var jsonData = JSON.parse(xmlhttp.responseText);
						var i;
						for (i = 0; i < jsonData.length; i++) {
						var object = jsonData[i]; //You are in the current object
						
						var row = table.insertRow(1);
						var cell1 = row.insertCell(0);
						var cell2 = row.insertCell(1);
						var cell3 = row.insertCell(2);
						cell1.innerHTML = object.host;
						cell2.innerHTML = object.port;
						cell3.innerHTML = object.status;
						}                   
					   
                 }
                 else{}
              }
        };
    }
  </script>

</head>

<body onload="init()">

<table cellspacing='0' id="myTable"> <!-- cellspacing='0' is important, must stay -->
	<tr><th>Node</th><th>Port</th><th>Status</th></tr><!-- Table Header -->
    


</table>

<a id="olListId"></a>


</body>

</html>
